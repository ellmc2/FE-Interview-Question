# Why use hook?（为什么要使用 hook?）

1. `Class Component` 难以复用。业务逻辑分散在组件的不同的生命周期函数中；业务逻辑强依赖于这个组件。

   `hook` 如何解决？

   在组件外部定义状态和副作用，可以让不同组件调用。

2. `hook` 是函数式编程的风格，强调纯函数（相同输入得到相同输出）

   1. 纯函数只在意输入输出，不在意组件运行环境，降低服务端组件落地成本；
   2. 性能优化，由于纯函数只在意输入/输出，所以输入没变，可以缓存输出；
   3. 并发渲染可能造成渲染打断，纯函数不会造成渲染过程中的副作用。

## `HOC` (高阶组件) 与 `hook` 的对比

虽然 `HOC` 也能做到在组件外部定义状态和副作用，但是对比于 `hook` 存在以下缺点：

1. 来源不清晰。`HOC` 通过增强组件的 `props` (赋予一个新的属性或者方法到组件的 `props` 属性)，当 `HOC` 较多时，很难区分 `props` 来自于哪个 `HOC` ;
2. `HOC` 需要实例化一个父组件来实现，不管是在代码量还是性能上，都不如 `hook`；
3. 依赖不清晰：高阶组件对入参的依赖是隐式的，入参发生在看不到的上层的 `HOC` 里面；
4. 命名冲突：高阶组件太多时，容易发生命名冲突。

## 参考：

1. [谈谈 react hooks 的优缺点](https://zhuanlan.zhihu.com/p/88593858)
